version: "8.15"
image: elasticsearch:8.15.0
description: Elasticsearch 8.15
port: 9200
protocol: http
volumes:
  - /usr/share/elasticsearch/data
environment:
  ES_JAVA_OPTS: -Xms512m -Xmx512m
  discovery.type: single-node
  xpack.security.enabled: "false"
healthcheck:
  test:
    - CMD-SHELL
    - curl -f http://localhost:9200/_cluster/health || exit 1
  interval: 30s
  timeout: 10s
  retries: 5
  start: 60s
resources:
  memory_min: 1g
  memory_max: 4g
  cpu_min: "0.5"
  cpu_max: "2.0"
