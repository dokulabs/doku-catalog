version: "8.11"
image: elasticsearch:8.11.0
description: Elasticsearch 8.11
port: 9200
protocol: http
volumes:
  - /usr/share/elasticsearch/data
environment:
  ES_JAVA_OPTS: -Xms512m -Xmx512m
  discovery.type: single-node
  xpack.security.enabled: "false"
healthcheck:
  test:
    - CMD-SHELL
    - curl -f http://localhost:9200/_cluster/health || exit 1
  interval: 30s
  timeout: 10s
  retries: 5
  start: 60s
resources:
  memorymin: 1g
  memorymax: 4g
  cpumin: "0.5"
  cpumax: "2.0"
